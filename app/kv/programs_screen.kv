<NewProgramDialog>:
    orientation: 'vertical'
    style: "elevated"
    padding: "10dp"
    spacing: "30dp"
    size_hint: .9, .5
    height: self.minimum_height
    pos_hint: {'center_x': .5, 'center_y': .5}
    
    MDLabel:
        text: "Новая программа"
        font_style: 'Title'
        halign: 'center'
        adaptive_height: True
    
    MDLabel:
        text: "название программы:"
        font_style: "Body"
        role: "small"
        halign: "center"

    MDTextField:
        id: new_program_name_input
        hint_text: "Название программы"
        mode: "outlined"
        
        MDTextFieldMaxLengthText:
            max_text_length: 30

        MDTextFieldHelperText:
            text: "Название не более 30 символов"
            mode: "on_error"

    MDLabel:
        text: "тип прогрессии:"
        font_style: "Body"
        role: "small"
        halign: "center"

    MDButton:
        id: progression_type_button
        style: "outlined"
        on_release: root.open_menu(self)
        pos_hint: {'center_x': 0.5}

        MDButtonText:
            id: progression_type_button_text
            
    MDBoxLayout:
        adaptive_height: True
        padding: [0, "20dp", 0, 0]
        
        MDButton:
            style: "text"
            on_release: root.dismiss()
            
            MDButtonText:
                text: "отмена"
        
        MDButton:
            style: "text"
            on_release: root.create_program()
            
            MDButtonText:
                text: "создать"


<ProgramsScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        padding: "15dp"
        spacing: "15dp"

        MDLabel:
            text: "Ваши программы"
            halign: "center"
            font_style: 'Title'
            adaptive_height: True

        MDScrollView:
            do_scroll_x: False
            MDList:
                id: program_list
                adaptive_height: True
                spacing: '10dp'
            
        MDButton:
            style: "filled"
            pos_hint: {'center_x': 0.5}
            on_release: root.show_new_program_dialog()
            
            MDButtonText:
                text: "Создать новую программу"  
       

<ProgramCard>:
    padding: "15dp"
    spacing: "10dp"
    adaptive_height: True
    ripple_behavior: True
    style: "outlined"
    on_release: root.screen.open_program_detail(root.program_id)

    MDBoxLayout:
        adaptive_height: True
        orientation: 'horizontal'
        spacing: "10dp"

        MDBoxLayout:
            orientation: 'vertical'
            adaptive_height: True
            spacing: "5dp"
            size_hint_x: 1

            MDLabel:
                text: root.program_name
                font_style: 'Body'
                adaptive_height: True

            MDLabel:
                text: {'linear': 'Линейная (3x12)', 'double': 'Двойная (3x8-10)'}.get(root.progression_type, 'Двойная (3x6-10)')

                font_style: 'Body'
                role: 'small'
                theme_text_color: "Secondary"
                adaptive_height: True
        
        MDIconButton:
            icon: "trash-can-outline"
            pos_hint: {"center_y": 0.5}
            on_release: root.screen.delete_program(root.program_id)
