# -*- coding: utf-8 -*-

<ExerciseItem>:
    adaptive_height: True
    spacing: "10dp"
    padding: "5dp"
    
    MDLabel:
        text: root.exercise_name
        font_style: 'Body'
        
    MDIconButton:
        icon: "trash-can-outline"
        on_release: root.screen.delete_exercise(root.exercise_id)


<ProgramDetailScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        padding: "5dp"
        spacing: "5dp"

        MDTopAppBar:
            type: "small"

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    on_release: root.go_back()

            MDTopAppBarTitle:
                text: "Детали программы"
                font_style: "Body"
                halign: "center"

        MDBoxLayout:
            orientation: 'vertical'
            padding: "15dp"
            spacing: "15dp"

            MDLabel:
                id: program_name
                font_style: 'Body'
                halign: 'center'
                adaptive_height: True
                
            ScrollView:
                MDList:
                    id: exercise_list
            
            MDBoxLayout:
                adaptive_height: True
                spacing: '10dp'
                padding: '20dp'

                MDTextField:
                    id: new_exercise_name
                    mode: "outlined"
                    size_hint_x: 1
                    multiline: False

                    MDTextFieldHintText:
                        text: "название упражнения"
                        text_color_normal: "grey"

                    MDTextFieldMaxLengthText:
                        max_text_length: 30
                        # удалены spacing/padding, мешающие расчёту компоновки

                    MDTextFieldHelperText:
                        text: "Название не более 30 символов"
                        mode: "on_error"

                MDButton:
                    style: "filled"
                    on_release: root.add_exercise()
                    MDButtonText:
                        text: "Добавить"

                        
            MDButton:
                style: "filled"
                pos_hint: {'center_x': 0.5}
                on_release: root.start_workout()
                MDButtonText:
                    text: "Начать тренировку"